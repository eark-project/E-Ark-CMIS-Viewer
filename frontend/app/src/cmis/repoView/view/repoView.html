<div layout="column" layout-fill>
    
    <div class="repo-docs__nav window" layout-padding>
        <nav class="od-filebrowser-breadcrumb">
            <a ng-repeat="crumb in rvc.breadcrumbs" ng-click="rvc.gotoCrumb($index)">{{crumb.name}}</a>
            <span ng-if="$last" class="active">{{crumb.name}}</span>
        </nav>
    </div>
    
    <div style="background-color: #fff;" layout="column" flex>

        <div layout="column" class="tlist" flex>
            <div class="tlist__header" layout="row">
                <div class="tlist__cell" flex="10"></div>
                <div class="tlist__cell md-button md-primary md-text-icon-button"
                    flex
                    sort-table="name">
                    <span>{{ 'COMMON.TITLE' | translate }}</span>
                </div>
                <div class="tlist__cell md-button md-primary md-text-icon-button"
                    flex="10"
                    sort-table="creator.fullName">
                    <span>{{ 'COMMON.CREATEDBY' | translate }}</span>
                </div>
                <!-- might not be convenient to sort if multiple owner -->
                <div class="tlist__cell md-button md-primary md-text-icon-button"
                    flex="20"
                    sort-table="created">
                    <span>{{ 'COMMON.CREATED' | translate }}</span>
                </div>
                <div class="tlist__cell md-button md-primary md-text-icon-button"
                    flex="10"
                    sort-table="lastModifiedBy">
                    <span>{{ 'COMMON.MODIFIED_BY' | translate }}</span>
                </div>
                <div class="tlist__cell md-button md-primary md-text-icon-button"
                    flex="20"
                    sort-table="lastModificationDate">
                    <span>{{ 'COMMON.MODIFIED' | translate }}</span>
                </div>
                <div class="tlist__cell" flex="10"></div>
            </div>
            <md-virtual-repeat-container class="tlist__body"
                flex
                ng-if="rvc.repo.children.length > 0">
                <div md-virtual-repeat="item in rvc.repo.children | orderObjectBy:orderByAttribute:reverseOrder"
                    layout="column" class="tlist__item" flex>
                    <div class="tlist__item__link" ng-click="rvc.getItem($event, item.objectId, item.type)" layout="row">
                        <span class="tlist__cell" flex="10" layout="column" layout-align="center center">
                            <img ng-src="app/assets/images/filetypes/{{item.thumbNailURL}}" alt="">
                        </span>
                        <span class="tlist__cell" flex layout="row" layout-align="flex-start center">
                            <span>
                                {{ item.name }}
                            </span>
                            <small class="muted" style="padding-left: 8px;" ng-show="rvc.isFile(item)">
                                {{ item.displaySize }}
                            </small>
                        </span>
                        <span class="tlist__cell muted" flex="10" layout="row" layout-align="flex-start center">
                            {{ item.createdBy }}
                        </span>
                        <span class="tlist__cell muted" flex="20" layout="row" layout-align="flex-start center">
                            {{ item.creationDate }}
                        </span>
                        <span class="tlist__cell muted" flex="10" layout="row" layout-align="flex-start center">
                            {{ item.lastModifiedBy }}
                        </span>
                        <span class="tlist__cell muted" flex="20" layout="row" layout-align="flex-start center">
                            {{ item.lastModificationDate  }}
                        </span>
                    </div>
                    <div>
                        <span class="tlist__cell muted" flex="10" layout="column" layout-align="center center">
                            <md-button ng-click="rvc.download(item)" ng-show="rvc.isFile(item)">
                                <i class="material-icons">get_app</i>
                            </md-button>
                        </span>
                    </div>
                </div>
            </md-virtual-repeat-container>
            
            <div ng-if="rvc.repo.children.length == 0"
                class="empty_file_list muted"
                layout="column"
                layout-align="center center">
                <p class="subhead">This directory is empty</p>
            </div>
        </div>
        
    </div>

</div>